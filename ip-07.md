# MTU 与 IP 报文分片

### IP 报文格式

* IHL：头部长度，单位字
* TL：总长度，单位字节
  - Id：分片标识
  - Flags：分片控制
* DF 为1：不能分片
* MF 为1：中间分片
* FO：分片内偏移，单位 8 字节
* TTL：路由器跳数生存期
* Protocol：承载协议
* HC：校验和

### MTU（Maximum Transmission Unit）分片

* MTU 最大传输单元（ RFC791 ：>=576 字节）
* ping 命令
   -f：设置 DF 标志位为 1
   -l：指定负载中的数据长度

### 常见网络 MTU

| 网络               | MTU(Byte) |
|------------------|-----------|
| 超通道              | 65535     |
| 16Mb/s 令牌环       | 17914     |
| 4Mb/s 令牌环        | 4464      |
| FDDI             | 4352      |
| 以太网              | 1500      |
| IEEE 802.3/802.2 | 1492      |
| X.25             | 576       |
| 点对点（低时延）         | 296       |

###  可能出现多次分片

### IP 分片示例

* 分片主体
  - 源主机
  - 路由器
* 重组主体
  - 目的主机

> 此文章为 4 月 Day11 学习笔记，内容来源于极客时间[《Web 协议详解与抓包实战》](http://gk.link/a/11UWp)，强烈推荐该课程！
