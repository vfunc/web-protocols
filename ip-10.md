# 支持万物互联的 IPv6 地址

### IPv6 目的

* 更大的地址空间：128 位长度
* 更好的地址空间管理
* 消除了 NAT 等寻址技术
* 更简易的 IP 配置管理
* 优秀的选路设计
* 更好的多播支持
* 安全性
* 移动性

### IPv6 地址的冒分十六进制表示法

* 首零去除
* 零压缩
  - FF00:4501:0:0:0:0:0:32
    - FF00:4501::32
  - 805B:2D9D:DC28:0:0:FC57:0:0
    - 805B:2D9D:DC28::FC57:0:0
    - 805B:2D9D:DC28:0:0:FC57::
  - 环回地址0:0:0:0:0:0:0:1
    - ::1

### IPv6 地址分布

| 起始比特         | 占所有 IPv6 地址的比重 | 分配情况        |
|--------------|----------------|-------------|
| 0000 0000    | 1/256          | 未分配 (含特殊地址) |
| 0000 0001    | 1/256          | 未分配         |
| 0000 001     | 1/128          | 为 NSAP 地址保留 |
| 0000 01      | 1/64           | 未分配 |
| 0000 1       | 1/32           | 未分配         |
| 0001         | 1/16           | 未分配         |
| 001          | 1/8            | 全局单播地址      |
| 010          | 1/8            | 未分配         |
| 011          | 1/8            | 未分配         |
| 100          | 1/8            | 未分配         |
| 101          | 1/8            | 未分配         |
| 110          | 1/8            | 未分配         |
| 1110         | 1/16           | 未分配         |
| 1111 0       | 1/32           | 未分配         |
| 1111 10      | 1/64           | 未分配         |
| 1111 110     | 1/128          | 未分配         |
| 1111 1110 0  | 1/512          | 未分配         |
| 1111 1110 10 | 1/1024         | 链路本地单播地址    |
| 1111 1110 11 | 1/1024         | 场点本地单播地址    |
| 1111 1111    | 1/256          | 多播地址        |

### 不同作用域下的多播

* Scope ID
  - 14：全局作用域
  - 8：组织作用域
  - 5：场点作用域
  - 2：本地链路作用域
  - 1：本机作用域

### 网络地址与主机地址

* 全局路由前缀：48
  - 可任意划分为多级
* 子网ID：16
  - 可任意划分为多级
* 接口ID：64
  - 直接映射 MAC 地址

### IEEE802 48 位 MAC 地址映射主机地址（EUI-64）

* 取 OUI(组织唯一标识)放左 24 比特
* 中间 16 比特置为 FFFE
* 置 OUI 第 7 位为 1 表示全局

> 此文章为 4 月 Day14 学习笔记，内容来源于极客时间[《Web 协议详解与抓包实战》](http://gk.link/a/11UWp)，强烈推荐该课程！
