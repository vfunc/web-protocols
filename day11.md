# 《Web 协议详解与抓包实战》学习笔记 Day 11

## 为什么需要同源策略？

同一个浏览器发出的请求，未必都是用户自愿发出的请求

只有 page.html 是用户发出的，其他请求是浏览器自动发出的

## 为什么需要同源策略？ 

站点 domain-b.com 收到的来自同一浏览器的请求，可能来自于站点domain-a.com

## 没有同源策略下的 Cookie 

只能保证用户请求来自于同一浏览器，不能确 保是用户自愿发出的

  - 访问站点 A 后，站点 A 通过 Set-Cookie： Cookie 头部将 Cookie 返回给浏览器
  - 浏览器会保存 Cookie，留待下次访问
  - 站点 B 的脚本访问站点 A 时，浏览器会自 动将 Cookie: cookie 添加到请求的头部访问 站点 A，提升用户体验
  -  站点 A 的鉴权策略：取出 Cookie 值与数据 库或者缓存中的 token 验证，通过后将数据 赋予请求继续处理。

## 如果没有同源策略

站点 B 的脚本就可以随意修改站点 A 的 DOM 结构


> [课程链接《Web 协议详解与抓包实战》极客时间](http://gk.link/a/11UWp)
