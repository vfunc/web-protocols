# HPACK 如何减少 HTTP 头部的大小

### HPACK 头部压缩

* RFC7541
* 三种压缩方式
  - 静态字典
  - 动态字典
  - 压缩算法：Huffman 编码（最高压缩比 8:5）

### Huffman 编码

* 原理：出现概率较大的符号采用较短的编码，概率较小的符号采用较长的编码
* 静态 Huffman 编码
  - https://httpwg.org/specs/rfc7541.html#huffman.code
* 动态 Huffman 编码

### Huffman 树的构造过程

* 计算各字母的出现概率
* 将出现频率最小的两个字母相加构成子树，左小右大
* 重复步骤 2，直至完成树的构造
* 给树的左链接编码为 0，右链接编码为 1
* 每个字母的编码即从根结点至所在叶结点中所有链接的编码

> 此文章为 2 月 Day13 学习笔记，内容来源于极客时间[《Web 协议详解与抓包实战》](http://gk.link/a/11UWp)，强烈推荐该课程！

---

另外，最近重温操作系统时发现了一个免费精品好课，闪客的《Linux0.11源码趣读》，这个课给我感觉像在用看小说的心态学操作系统源码，写的确实挺牛的，通俗易懂，直指本源，我自己也跟着收获了很多。这个课在极客时间上是免费的，口碑很不错，看评论下很多人在催更和重温，强烈推荐！[戳此链接领取](https://time.geekbang.org/opencourse/intro/100310101?utm_source=linux_dk&utm_term=linux_dk)
